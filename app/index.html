<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Error Debugger | AgentCore Multi-Agent Demo</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app">
        <!-- Header -->
        <header class="header">
            <div class="header-brand">
                <div class="logo">üîç</div>
                <div class="header-text">
                    <h1>Error Debugger</h1>
                    <span class="subtitle">Powered by AWS AgentCore ‚Ä¢ 7 Agents ‚Ä¢ 14+ Tools</span>
                </div>
            </div>
            <div class="header-meta">
                <div class="session-info">
                    <span class="label">Session</span>
                    <code id="sessionId">-</code>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main">
            <!-- Left: Input -->
            <section class="panel input-panel">
                <div class="panel-header">
                    <h2>üì• Paste Your Error</h2>
                    <button class="btn-ghost" id="loadSampleBtn">Load Sample</button>
                </div>
                <div class="panel-body">
                    <textarea 
                        id="errorInput" 
                        placeholder="Paste your error message, stack trace, or exception here...

Example:
TypeError: Cannot read properties of undefined (reading 'map')
    at UserList (src/components/UserList.tsx:15:23)
    at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:14985:18)"
                        spellcheck="false"
                    ></textarea>
                </div>
                <div class="panel-footer">
                    <button class="btn-primary" id="analyzeBtn">
                        <span class="icon">‚ö°</span>
                        <span>Debug Error</span>
                    </button>
                </div>
            </section>

            <!-- Center: Agent Orchestration -->
            <section class="panel orchestration-panel">
                <div class="panel-header">
                    <h2>ü§ñ Agent Orchestration</h2>
                    <div class="stats">
                        <span id="agentCount">0 agents</span>
                        <span class="divider">‚Ä¢</span>
                        <span id="toolCount">0 tools</span>
                        <span class="divider">‚Ä¢</span>
                        <span id="execTime">0.0s</span>
                    </div>
                </div>
                <div class="panel-body">
                    <div class="orchestration-empty" id="orchestrationEmpty">
                        <div class="empty-icon">üîç</div>
                        <p>Paste an error and click "Debug Error"</p>
                        <p class="hint">Watch 7 specialized agents collaborate</p>
                    </div>
                    
                    <div class="orchestration-flow" id="orchestrationFlow" style="display: none;">
                        <!-- Supervisor -->
                        <div class="agent-card supervisor" id="supervisorCard">
                            <div class="agent-icon">üëî</div>
                            <div class="agent-info">
                                <span class="agent-name">Supervisor</span>
                                <span class="agent-desc">Orchestrates specialists</span>
                            </div>
                            <div class="agent-status" id="supervisorStatus">idle</div>
                        </div>
                        
                        <div class="agent-connection">‚Üì</div>
                        
                        <!-- Row 1: Parse & Security -->
                        <div class="agent-row">
                            <div class="agent-card" id="parserCard">
                                <div class="agent-icon">üìã</div>
                                <div class="agent-info">
                                    <span class="agent-name">Parser</span>
                                    <span class="agent-desc">Regex, AST, Comprehend</span>
                                </div>
                                <div class="agent-status" id="parserStatus">idle</div>
                                <div class="agent-output" id="parserOutput"></div>
                            </div>
                            
                            <div class="agent-card" id="securityCard">
                                <div class="agent-icon">üîí</div>
                                <div class="agent-info">
                                    <span class="agent-name">Security</span>
                                    <span class="agent-desc">PII, Secrets scan</span>
                                </div>
                                <div class="agent-status" id="securityStatus">idle</div>
                                <div class="agent-output" id="securityOutput"></div>
                            </div>
                        </div>
                        
                        <div class="agent-connection">‚Üì</div>
                        
                        <!-- Row 2: Memory & Context -->
                        <div class="agent-row">
                            <div class="agent-card memory" id="memoryCard">
                                <div class="agent-icon">üß†</div>
                                <div class="agent-info">
                                    <span class="agent-name">Memory</span>
                                    <span class="agent-desc">AgentCore Memory</span>
                                </div>
                                <div class="agent-status" id="memoryStatus">idle</div>
                                <div class="agent-output" id="memoryOutput"></div>
                            </div>
                            
                            <div class="agent-card" id="contextCard">
                                <div class="agent-icon">üåê</div>
                                <div class="agent-info">
                                    <span class="agent-name">Context</span>
                                    <span class="agent-desc">GitHub, StackOverflow</span>
                                </div>
                                <div class="agent-status" id="contextStatus">idle</div>
                                <div class="agent-output" id="contextOutput"></div>
                            </div>
                        </div>
                        
                        <div class="agent-connection">‚Üì</div>
                        
                        <!-- Row 3: Root Cause & Fix -->
                        <div class="agent-row">
                            <div class="agent-card" id="rootcauseCard">
                                <div class="agent-icon">üéØ</div>
                                <div class="agent-info">
                                    <span class="agent-name">Root Cause</span>
                                    <span class="agent-desc">Patterns, Bedrock</span>
                                </div>
                                <div class="agent-status" id="rootcauseStatus">idle</div>
                                <div class="agent-output" id="rootcauseOutput"></div>
                            </div>
                            
                            <div class="agent-card" id="fixCard">
                                <div class="agent-icon">üîß</div>
                                <div class="agent-info">
                                    <span class="agent-name">Fix Generator</span>
                                    <span class="agent-desc">Bedrock, AST validation</span>
                                </div>
                                <div class="agent-status" id="fixStatus">idle</div>
                                <div class="agent-output" id="fixOutput"></div>
                            </div>
                        </div>
                        
                        <div class="agent-connection">‚Üì</div>
                        
                        <!-- Stats -->
                        <div class="agent-card stats" id="statsCard">
                            <div class="agent-icon">üìä</div>
                            <div class="agent-info">
                                <span class="agent-name">Statistics</span>
                                <span class="agent-desc">Trends, frequency</span>
                            </div>
                            <div class="agent-status" id="statsStatus">idle</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Right: Results -->
            <section class="panel results-panel">
                <div class="panel-header">
                    <h2>üìä Analysis Results</h2>
                    <button class="btn-icon" id="copyBtn" title="Copy results" disabled>üìã</button>
                </div>
                <div class="panel-body" id="resultsContent">
                    <div class="results-empty">
                        <span class="empty-icon">üìã</span>
                        <p>Results will appear here</p>
                    </div>
                </div>
            </section>
        </main>

        <!-- Memory Panel (Bottom) -->
        <section class="panel memory-panel">
            <div class="panel-header">
                <h2>üß† AgentCore Memory</h2>
                <div class="memory-stats">
                    <span class="stat short-term">
                        <span id="shortTermCount">0</span> session
                    </span>
                    <span class="stat long-term">
                        <span id="longTermCount">3</span> patterns
                    </span>
                </div>
            </div>
            <div class="panel-body memory-body">
                <div class="memory-section">
                    <div class="memory-label">
                        <span class="badge short-term">SHORT-TERM</span>
                        <span class="ttl">24hr TTL</span>
                    </div>
                    <div class="memory-list" id="shortTermList">
                        <div class="memory-empty">Session context will appear here</div>
                    </div>
                </div>
                <div class="memory-divider"></div>
                <div class="memory-section">
                    <div class="memory-label">
                        <span class="badge long-term">LONG-TERM</span>
                        <span class="ttl">Persistent</span>
                    </div>
                    <div class="memory-list" id="longTermList">
                        <!-- Pre-seeded patterns will be shown here -->
                    </div>
                </div>
            </div>
        </section>
    </div>

    <script src="app.js"></script>
</body>
</html>

